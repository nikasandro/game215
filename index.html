<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Super Dino Game</title>
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      overflow: hidden;
      transition: background 0.3s;
    }

    #game {
      position: relative;
      width: 100vw;
      height: 100vh;
      background: #fff;
      overflow: hidden;
      border-bottom: 3px solid #444;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
    }

    #score, #highscore {
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 20px;
      color: #333;
      z-index: 2;
    }

    #highscore {
      top: 40px;
    }

    #nightToggle, #soundToggle {
      position: absolute;
      top: 10px;
      left: 20px;
      font-size: 20px;
      cursor: pointer;
      padding: 5px 10px;
      background: #eee;
      border-radius: 10px;
      z-index: 2;
    }

    #soundToggle {
      left: 90px;
    }

    #gameOver {
      display: none;
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 2;
    }

    #gameOver h1 {
      color: red;
      font-size: 48px;
    }

    #restart {
      margin-top: 10px;
      font-size: 20px;
      padding: 10px 20px;
      background: #444;
      color: #fff;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .night {
      background: #111;
    }

    .night #game {
      background: #222;
    }

    .night #score, .night #highscore, .night #nightToggle, .night #soundToggle {
      color: #fff;
      background: #444;
    }
  </style>
</head>
<body>
  <div id="nightToggle">ðŸŒ™</div>
  <div id="soundToggle">ðŸ”Š</div>
  <div id="game">
    <div id="score">Score: 0</div>
    <div id="highscore">High Score: 0</div>
    <div id="gameOver">
      <h1>Game Over!</h1>
      <button id="restart">Restart</button>
    </div>
  </div>

  <audio id="jumpSound" src="https://www.soundjay.com/button/beep-07.wav" preload="auto"></audio>
  <audio id="gameOverSound" src="https://www.soundjay.com/button/beep-10.wav" preload="auto"></audio>

  <script>
    const scoreDisplay = document.getElementById("score");
    const highScoreDisplay = document.getElementById("highscore");
    const gameOverScreen = document.getElementById("gameOver");
    const restartBtn = document.getElementById("restart");
    const toggleBtn = document.getElementById("nightToggle");
    const soundToggle = document.getElementById("soundToggle");
    const jumpSound = document.getElementById("jumpSound");
    const gameOverSound = document.getElementById("gameOverSound");

    let soundOn = true;
    let highScore = localStorage.getItem("dinoHighScore") || 0;
    highScoreDisplay.textContent = `High Score: ${highScore}`;

    toggleBtn.onclick = () => {
      document.body.classList.toggle("night");
      toggleBtn.textContent = document.body.classList.contains("night") ? "â˜€ï¸" : "ðŸŒ™";
    };

    soundToggle.onclick = () => {
      soundOn = !soundOn;
      soundToggle.textContent = soundOn ? "ðŸ”Š" : "ðŸ”‡";
    };

    function playSound(sound) {
      if (soundOn) sound.play();
    }

    const config = {
      type: Phaser.AUTO,
      parent: 'game',
      width: window.innerWidth,
      height: window.innerHeight,
      physics: {
        default: 'arcade',
        arcade: {
          gravity: { y: 1000 },
          debug: false
        }
      },
      scene: {
        preload,
        create,
        update
      }
    };

    let dino, cursors, obstacles, score = 0, scoreTimer, gameOver = false;

    const game = new Phaser.Game(config);

    function preload() {
      this.load.image('dino', 'dinosaur.png');
      this.load.image('cactus', 'cactus.png');
    }

    function create() {
      const groundY = this.sys.game.config.height - 48;

      // Ground
      const ground = this.add.rectangle(0, groundY, config.width * 2, 10, 0x888888).setOrigin(0, 0);
      this.physics.add.existing(ground, true);

      // Dino
      dino = this.physics.add.sprite(50, groundY - 48, 'dino').setOrigin(0, 0).setScale(1);
      dino.setCollideWorldBounds(true);
      this.physics.add.collider(dino, ground);

      // Input
      cursors = this.input.keyboard.createCursorKeys();
      this.input.on('pointerdown', jump, this);

      // Obstacles
      obstacles = this.physics.add.group();
      this.physics.add.collider(obstacles, ground);
      this.physics.add.overlap(dino, obstacles, hitObstacle, null, this);

      // Obstacle generator
      this.time.addEvent({
        delay: Phaser.Math.Between(1000, 1800),
        loop: true,
        callback: () => {
          if (gameOver) return;
          const obs = obstacles.create(config.width, groundY - 50, 'cactus').setOrigin(0, 0);
          obs.setVelocityX(-300);
          obs.setImmovable(true);
          obs.body.allowGravity = false;
        }
      });

      // Score
      scoreTimer = this.time.addEvent({
        delay: 100,
        loop: true,
        callback: () => {
          if (!gameOver) {
            score++;
            scoreDisplay.textContent = `Score: ${score}`;
          }
        }
      });
    }

    function update() {
      if ((Phaser.Input.Keyboard.JustDown(cursors.space) || Phaser.Input.Keyboard.JustDown(cursors.up)) && dino.body.touching.down) {
        jump();
      }
    }

    function jump() {
      if (dino.body.touching.down && !gameOver) {
        dino.setVelocityY(-450);
        playSound(jumpSound);
      }
    }

    function hitObstacle(player, obstacle) {
      if (!gameOver) {
        gameOver = true;
        scoreTimer.remove(false);
        playSound(gameOverSound);
        gameOverScreen.style.display = "block";

        if (score > highScore) {
          highScore = score;
          localStorage.setItem("dinoHighScore", highScore);
          highScoreDisplay.textContent = `High Score: ${highScore}`;
        }

        this.physics.pause();
      }
    }

    restartBtn.onclick = () => location.reload();
  </script>
</body>
</html>








