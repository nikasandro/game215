<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Super Dino Game (Phaser)</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      overflow: hidden;
    }

    #game {
      position: relative;
      width: 100vw;
      height: 100vh;
      background: #fff;
      overflow: hidden;
      border-bottom: 3px solid #444;
    }

    #score, #highscore {
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 20px;
      color: #333;
      z-index: 10;
    }

    #highscore {
      top: 40px;
    }

    #nightToggle, #soundToggle {
      position: absolute;
      top: 10px;
      left: 20px;
      font-size: 20px;
      cursor: pointer;
      padding: 5px 10px;
      background: #eee;
      border-radius: 10px;
      z-index: 10;
    }

    #soundToggle {
      left: 90px;
    }

    #gameOver {
      display: none;
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 20;
    }

    #gameOver h1 {
      color: red;
      font-size: 48px;
    }

    #restart {
      margin-top: 10px;
      font-size: 20px;
      padding: 10px 20px;
      background: #444;
      color: #fff;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .night {
      background: #111;
    }

    .night #game {
      background: #222;
    }

    .night #score, .night #highscore, .night #nightToggle, .night #soundToggle {
      color: #fff;
    }
  </style>
</head>
<body>
  <div id="nightToggle">ðŸŒ™</div>
  <div id="soundToggle">ðŸ”Š</div>
  <div id="score">Score: 0</div>
  <div id="highscore">High Score: 0</div>
  <div id="gameOver">
    <h1>Game Over!</h1>
    <button id="restart">Restart</button>
  </div>
  <div id="game"></div>

  <audio id="jumpSound" src="https://www.soundjay.com/button/beep-07.wav" preload="auto"></audio>
  <audio id="gameOverSound" src="https://www.soundjay.com/button/beep-10.wav" preload="auto"></audio>

  <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
  <script>
    const gameOverScreen = document.getElementById("gameOver");
    const restartBtn = document.getElementById("restart");
    const toggleBtn = document.getElementById("nightToggle");
    const soundToggle = document.getElementById("soundToggle");
    const scoreDisplay = document.getElementById("score");
    const highScoreDisplay = document.getElementById("highscore");
    const jumpSound = document.getElementById("jumpSound");
    const gameOverSound = document.getElementById("gameOverSound");

    let score = 0;
    let highScore = localStorage.getItem("dinoHighScore") || 0;
    let gameOver = false;
    let soundOn = true;

    highScoreDisplay.textContent = `High Score: ${highScore}`;

    const groundHeight = 5;
    const config = {
      type: Phaser.AUTO,
      width: window.innerWidth,
      height: window.innerHeight,
      backgroundColor: "#fff",
      parent: "game",
      physics: {
        default: "arcade",
        arcade: {
          gravity: { y: 800 },
          debug: false,
        },
      },
      scene: {
        preload,
        create,
        update,
      },
    };

    const game = new Phaser.Game(config);

    let dino;
    let cursors;
    let obstacles;
    let ground;
    let scoreTimer;
    let speed = 300;

    function preload() {
      this.load.image("dino", "dinosaur.png");
      this.load.image("cactus", "cactus.png");
      this.load.image("ground", "https://i.imgur.com/wH3c9wO.png");
    }

    function create() {
      ground = this.add.tileSprite(0, config.height - groundHeight, config.width, groundHeight, "ground")
        .setOrigin(0, 0)
        .setScale(1)
        .setDepth(1);

      dino = this.physics.add.sprite(50, config.height - 60, "dino").setOrigin(0, 0);
      dino.setCollideWorldBounds(true);
      dino.setGravityY(800);
      dino.setDisplaySize(48, 48);
      dino.body.setSize(48, 48);

      cursors = this.input.keyboard.createCursorKeys();
      this.input.keyboard.on("keydown-SPACE", jump, this);
      this.input.on("pointerdown", jump, this);

      obstacles = this.physics.add.group();

      this.physics.add.collider(dino, obstacles, handleGameOver, null, this);

      scoreTimer = this.time.addEvent({
        delay: 100,
        callback: () => {
          if (!gameOver) {
            score++;
            scoreDisplay.textContent = `Score: ${score}`;
            if (score % 100 === 0) speed += 20;
          }
        },
        loop: true,
      });

      this.time.addEvent({
        delay: Phaser.Math.Between(1000, 2000),
        callback: spawnObstacle,
        callbackScope: this,
        loop: true,
      });
    }

    function jump() {
      if (dino.body.touching.down && !gameOver) {
        dino.setVelocityY(-400);
        if (soundOn) jumpSound.play();
      }
    }

    function spawnObstacle() {
      if (gameOver) return;

      const cactusHeight = 50;
      const cactusY = config.height - groundHeight - cactusHeight;

      const cactus = obstacles.create(config.width, cactusY, "cactus");
      cactus.setOrigin(0, 0);
      cactus.setImmovable(true);
      cactus.setVelocityX(-speed);
      cactus.setDisplaySize(30, cactusHeight);
      cactus.body.setSize(30, cactusHeight, false);
    }

    function handleGameOver() {
      if (!gameOver) {
        gameOver = true;
        if (soundOn) gameOverSound.play();
        gameOverScreen.style.display = "block";

        if (score > highScore) {
          highScore = score;
          localStorage.setItem("dinoHighScore", highScore);
          highScoreDisplay.textContent = `High Score: ${highScore}`;
        }

        game.scene.pause();
      }
    }

    function update() {
      ground.tilePositionX += speed / 60;

      obstacles.getChildren().forEach(obstacle => {
        if (obstacle.x + obstacle.width < 0) {
          obstacle.destroy();
        }
      });
    }

    restartBtn.onclick = () => location.reload();

    toggleBtn.onclick = () => {
      document.body.classList.toggle("night");
      toggleBtn.textContent = document.body.classList.contains("night") ? "â˜€ï¸" : "ðŸŒ™";
    };

    soundToggle.onclick = () => {
      soundOn = !soundOn;
      soundToggle.textContent = soundOn ? "ðŸ”Š" : "ðŸ”‡";
    };
  </script>
</body>
</html>









